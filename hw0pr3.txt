0 x*** -> N 0   
0 N*x* -> W 1 

1 ***x -> S 1   
1 ***S -> X 0   

0 NxWx -> E 2

2 NX** -> E 2
2 NE** -> X 3

3 *E*X -> S 3
3 xExS -> W 3
3 XXXS -> N 0